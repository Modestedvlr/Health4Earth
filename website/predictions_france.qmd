---
title: "France 2025-2050"
format:
  html:
    code-fold: true
    toc: true
jupyter: python3
---

Pour anticiper l'avenir climatique et sanitaire de la France, nous avons développé un modèle de Machine Learning (Régression Linéaire supervisée via `scikit-learn`).
Le modèle est entraîné sur les données historiques réelles (2000-2024) pour projeter les tendances jusqu'en 2050.


```{python}
#| echo: false
#| warning: false
#| output: false

import matplotlib.pyplot as plt
import seaborn as sns
from health4earth.data_ingest import load_merged_data
from health4earth.analytics import HealthAnalyzer

# Setup
sns.set_theme(style="whitegrid")
plt.rcParams['figure.figsize'] = [10, 5]
df = load_merged_data()
analyzer = HealthAnalyzer(df)
country = "France"
```


## 1. Trajectoire des Émissions de CO₂

```{python}
#| echo: false
#| warning: false
pred = analyzer.predict_evolution(country, "co2", year_end=2050)

if pred is not None:
    plt.figure()
    # Historique
    sns.lineplot(data=pred[pred['type']=='Historique'], x='year', y='co2', label='Historique', color='black', linewidth=2)
    # Prédiction
    sns.lineplot(data=pred[pred['type']=='Prédiction'], x='year', y='co2', label='Projection 2050', color='blue', linestyle='--', linewidth=2.5)
    
    # Zone d'incertitude visuelle
    plt.fill_between(pred['year'], pred['co2']*0.95, pred['co2']*1.05, color='blue', alpha=0.1)
    
    plt.axvline(x=2024, color='red', linestyle=':', label="Aujourd'hui")
    plt.title(f"Projection CO2")
    plt.ylabel("Millions de Tonnes")
    plt.legend()
    plt.show()
```

* Interprétation :
La France suit une trajectoire de décroissance structurelle. Le modèle prévoit une baisse continue, passant sous la barre des 250 Mt d'ici 2040. Cela valide l'efficacité des politiques de transition énergétique, bien que des efforts supplémentaires soient requis pour la neutralité carbone totale.


## 2. Pollution Atmosphérique

```{python}
#| echo: false
#| warning: false
# On utilise pollution_deaths comme proxy de la pollution
pred_pol = analyzer.predict_evolution(country, "pollution_deaths", year_end=2050)

if pred_pol is not None:
    plt.figure()
    sns.lineplot(data=pred_pol, x='year', y='pollution_deaths', hue='type', palette=['grey', 'orange'], linewidth=2.5)
    plt.title("Projection Décès liés à la pollution")
    plt.ylabel("Nombre de décès annuels")
    plt.axvline(x=2024, color='red', linestyle=':')
    plt.show()
```

* Interprétation :
La mortalité liée aux particules fines devrait continuer de chuter. Cette baisse est plus rapide que celle du CO2, ce qui s'explique par l'amélioration des normes EURO sur les véhicules et la fin progressive du chauffage au fioul/charbon.


## 3. Espérance de Vie

```{python}
#| echo: false
#| warning: false
pred_life = analyzer.predict_evolution(country, "life_expectancy", year_end=2050)

if pred_life is not None:
    plt.figure()
    sns.lineplot(data=pred_life, x='year', y='life_expectancy', hue='type', palette=['darkgreen', 'lightgreen'], linewidth=2.5)
    plt.title("Projection Espérance de Vie")
    plt.ylabel("Années")
    plt.axvline(x=2024, color='red', linestyle=':')
    plt.show()
```

* Interprétation :
Le modèle est optimiste et projette un gain continu, dépassant potentiellement les 84 ans de moyenne d'ici 2040. Cependant, cette courbe pourrait s'aplatir (effet de plateau biologique) non pris en compte par une régression linéaire simple.


## Conclusion : 

L'amélioration de la qualité de l'air est directement corrélée à l'augmentation de l'espérance de vie, validant l'efficacité des politiques publiques actuelles.



